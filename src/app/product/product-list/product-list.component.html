<div class="table-container">
    <h2>Product List</h2>
    <div style="display: flex; justify-content: right;">
        <button pButton type="button" (click)="addProduct()" label="Add Product" icon="pi pi-plus"></button>
    </div>

    <p-table [value]="products" styleClass="p-datatable-striped p-datatable-custom">
        <ng-template pTemplate="header">
            <tr>
                <th>Name</th>
                <th>Category</th> <!-- New Category Column -->
                <th>Price</th>
                <th>Actions</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-product>
            <tr>
                <td>{{ product.name }}</td>
                <td>{{ product.category }}</td> <!-- New Category Data -->
                <td>{{ product.price }}</td>
                <td>
                    <button (click)="updateProduct(product.id)" pButton type="button" label="Update" icon="pi pi-pencil"
                        class="p-button-info action-button p-button-rounded"></button>
                    <button (click)="deleteProduct(product.id)" pButton type="button" label="Delete" icon="pi pi-times"
                        class="p-button-danger action-button p-button-rounded"></button>
                </td>
            </tr>
        </ng-template>
    </p-table>

    <!-- Render chart only when products data is available -->
    <app-product-chart *ngIf="products && products.length > 0" [chartData]="products"></app-product-chart>
</div>
